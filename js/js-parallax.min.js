!function(t){"use strict";Date.now||(Date.now=function(){return new Date().getTime()}),t.requestAnimationFrame||function(){for(var e=["webkit","moz"],i=0;i<e.length&&!t.requestAnimationFrame;++i){var n=e[i];t.requestAnimationFrame=t[n+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n+"CancelAnimationFrame"]||t[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)||!t.requestAnimationFrame||!t.cancelAnimationFrame){var o=0;t.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(o+16,e);return setTimeout(function(){t(o=i)},i-e)},t.cancelAnimationFrame=clearTimeout}}();var e,i,n=document.createElement("div");function o(t){var e=["O","Moz","ms","Ms","Webkit"],i=e.length;if(void 0!==n.style[t])return!0;for(t=t.charAt(0).toUpperCase()+t.substr(1);--i>-1&&void 0===n.style[e[i]+t];);return i>=0}var a=o("transform"),r=o("perspective"),s=navigator.userAgent,l=s.toLowerCase().indexOf("android")>-1,c=/iPad|iPhone|iPod/.test(s)&&!t.MSStream,p=s.toLowerCase().indexOf("firefox")>-1,m=s.indexOf("MSIE ")>-1||s.indexOf("Trident/")>-1||s.indexOf("Edge/")>-1,g=document.all&&!t.atob;function u(){e=t.innerWidth||document.documentElement.clientWidth,i=t.innerHeight||document.documentElement.clientHeight}u();var d,f=[],h=(d=0,function t(e,i){var n,o=this;if(o.$item=e,o.defaults={type:"scroll",speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,elementInViewport:null,zIndex:-100,noAndroid:!1,noIos:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null},n=JSON.parse(o.$item.getAttribute("data-jarallax")||"{}"),o.options=o.extend({},o.defaults,n,i),a&&(!l||!o.options.noAndroid)&&(!c||!o.options.noIos)){o.options.speed=Math.min(2,Math.max(-1,parseFloat(o.options.speed)));var s=o.options.elementInViewport;s&&"object"==typeof s&&void 0!==s.length&&(s=s[0]),!s instanceof Element&&(s=null),o.options.elementInViewport=s,o.instanceID=d++,o.image={src:o.options.imgSrc||null,$container:null,$item:null,width:o.options.imgWidth||null,height:o.options.imgHeight||null,useImgTag:c||l||m,position:!r||p?"absolute":"fixed"},o.initImg()&&o.init()}});function y(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent("on"+e,function(){i.call(t)})}function v(e){t.requestAnimationFrame(function(){"scroll"!==e.type&&u();for(var t=0,i=f.length;t<i;t++)"scroll"!==e.type&&(f[t].coverImage(),f[t].clipContainer()),f[t].onScroll()})}h.prototype.css=function(e,i){if("string"==typeof i)return t.getComputedStyle?t.getComputedStyle(e).getPropertyValue(i):e.style[i];for(var n in i.transform&&(r&&(i.transform+=" translateZ(0)"),i.WebkitTransform=i.MozTransform=i.msTransform=i.OTransform=i.transform),i)e.style[n]=i[n];return e},h.prototype.extend=function(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t},h.prototype.initImg=function(){var t=this;return null===t.image.src&&(t.image.src=t.css(t.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!t.image.src||"none"===t.image.src)},h.prototype.init=function(){var t=this,e={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},i={};t.$item.setAttribute("data-jarallax-original-styles",t.$item.getAttribute("style")),"static"===t.css(t.$item,"position")&&t.css(t.$item,{position:"relative"}),"auto"===t.css(t.$item,"z-index")&&t.css(t.$item,{zIndex:0}),t.image.$container=document.createElement("div"),t.css(t.image.$container,e),t.css(t.image.$container,{visibility:"hidden","z-index":t.options.zIndex}),t.image.$container.setAttribute("id","jarallax-container-"+t.instanceID),t.$item.appendChild(t.image.$container),t.image.useImgTag?(t.image.$item=document.createElement("img"),t.image.$item.setAttribute("src",t.image.src),i=t.extend({"max-width":"none"},e,i)):(t.image.$item=document.createElement("div"),i=t.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+t.image.src+'")'},e,i));for(var n=0,o=t.$item;null!==o&&o!==document&&0===n;){var a=t.css(o,"-webkit-transform")||t.css(o,"-moz-transform")||t.css(o,"transform");a&&"none"!==a&&(n=1,t.css(t.image.$container,{transform:"translateX(0) translateY(0)"})),o=o.parentNode}function r(){t.coverImage(),t.clipContainer(),t.onScroll(!0),t.options.onInit&&t.options.onInit.call(t),setTimeout(function(){t.$item&&t.css(t.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})},0)}(n||"opacity"===t.options.type||"scale"===t.options.type||"scale-opacity"===t.options.type)&&(t.image.position="absolute"),i.position=t.image.position,t.css(t.image.$item,i),t.image.$container.appendChild(t.image.$item),t.image.width&&t.image.height?r():t.getImageSize(t.image.src,function(e,i){t.image.width=e,t.image.height=i,r()}),f.push(t)},h.prototype.destroy=function(){for(var t=0,e=f.length;t<e;t++)if(f[t].instanceID===this.instanceID){f.splice(t,1);break}var i=this.$item.getAttribute("data-jarallax-original-styles");for(var n in this.$item.removeAttribute("data-jarallax-original-styles"),"null"===i?this.$item.removeAttribute("style"):this.$item.setAttribute("style",i),this.$clipStyles&&this.$clipStyles.parentNode.removeChild(this.$clipStyles),this.image.$container.parentNode.removeChild(this.image.$container),this.options.onDestroy&&this.options.onDestroy.call(this),delete this.$item.jarallax,this)delete this[n]},h.prototype.getImageSize=function(t,e){if(t&&e){var i=new Image;i.onload=function(){e(i.width,i.height)},i.src=t}},h.prototype.clipContainer=function(){if(!g){var t=this,e=t.image.$container.getBoundingClientRect(),i=e.width,n=e.height;!t.$clipStyles&&(t.$clipStyles=document.createElement("style"),t.$clipStyles.setAttribute("type","text/css"),t.$clipStyles.setAttribute("id","#jarallax-clip-"+t.instanceID),(document.head||document.getElementsByTagName("head")[0]).appendChild(t.$clipStyles));var o=["#jarallax-container-"+t.instanceID+" {","   clip: rect(0 "+i+"px "+n+"px 0);","   clip: rect(0, "+i+"px, "+n+"px, 0);","}"].join("\n");t.$clipStyles.styleSheet?t.$clipStyles.styleSheet.cssText=o:t.$clipStyles.innerHTML=o}},h.prototype.coverImage=function(){var t=this;if(t.image.width&&t.image.height){var e=t.image.$container.getBoundingClientRect(),n=e.width,o=e.height,a=e.left,r=t.image.width,s=t.image.height,l=t.options.speed,c="scroll"===t.options.type||"scroll-opacity"===t.options.type,p=0,m=0,g=o,u=0,d=0;c&&(p=l<0?l*Math.max(o,i):l*(o+i),l>1?g=Math.abs(p-i):l<0?g=p/l+Math.abs(p):g+=Math.abs(i-o)*(1-l),p/=2),(m=g*r/s)<n&&(g=(m=n)*s/r),c?(u=a+(n-m)/2,d=(i-g)/2):(u=(n-m)/2,d=(o-g)/2),"absolute"===t.image.position&&(u-=a),t.parallaxScrollDistance=p,t.css(t.image.$item,{width:m+"px",height:g+"px",marginLeft:u+"px",marginTop:d+"px"}),t.options.onCoverImage&&t.options.onCoverImage.call(t)}},h.prototype.isVisible=function(){return this.isElementInViewport||!1},h.prototype.onScroll=function(t){var n=this;if(n.image.width&&n.image.height){var o=n.$item.getBoundingClientRect(),a=o.top,r=o.height,s={visibility:"visible",backgroundPosition:"50% 50%"},l=o;if(n.options.elementInViewport&&(l=n.options.elementInViewport.getBoundingClientRect()),n.isElementInViewport=l.bottom>=0&&l.right>=0&&l.top<=i&&l.left<=e,t||n.isElementInViewport){var c=Math.max(0,r+a),p=Math.max(0,-a),m=Math.max(0,a+r-i),g=Math.max(0,r-(a+r-i)),u=Math.max(0,-a+i-r),d=1-2*(i-a)/(i+r),f=1;if(r<i?f=1-(p||m)/r:c<=i?f=c/i:g<=i&&(f=g/i),("opacity"===n.options.type||"scale-opacity"===n.options.type||"scroll-opacity"===n.options.type)&&(s.transform="",s.opacity=f),"scale"===n.options.type||"scale-opacity"===n.options.type){var h=1;n.options.speed<0?h-=n.options.speed*f:h+=n.options.speed*(1-f),s.transform="scale("+h+")"}if("scroll"===n.options.type||"scroll-opacity"===n.options.type){var y=n.parallaxScrollDistance*d;"absolute"===n.image.position&&(y-=a),s.transform="translateY("+y+"px)"}n.css(n.image.$item,s),n.options.onScroll&&n.options.onScroll.call(n,{section:o,beforeTop:Math.max(0,a),beforeTopEnd:c,afterTop:p,beforeBottom:m,beforeBottomEnd:g,afterBottom:u,visiblePercent:f,fromViewportCenter:d})}}},y(t,"scroll",v),y(t,"resize",v),y(t,"orientationchange",v),y(t,"load",v);var x=function(t){("object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)&&(t=[t]);for(var e,i=arguments[1],n=Array.prototype.slice.call(arguments,2),o=t.length,a=0;a<o;a++)if("object"==typeof i||void 0===i?t[a].jarallax||(t[a].jarallax=new h(t[a],i)):t[a].jarallax&&(e=t[a].jarallax[i].apply(t[a].jarallax,n)),void 0!==e)return e;return t};x.constructor=h;var $=t.jarallax;if(t.jarallax=x,t.jarallax.noConflict=function(){return t.jarallax=$,this},"undefined"!=typeof jQuery){var b=function(){var e=arguments||[];Array.prototype.unshift.call(e,this);var i=x.apply(t,e);return"object"!=typeof i?i:this};b.constructor=h;var I=jQuery.fn.jarallax;jQuery.fn.jarallax=b,jQuery.fn.jarallax.noConflict=function(){return jQuery.fn.jarallax=I,this}}y(t,"DOMContentLoaded",function(){x(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))})}(window);